import{E as W,aj as Z,ay as q,J as G,Z as O,s as l,az as B,aA as Q,a1 as X,W as Y,M as _,j as M,b as a,F as b,z as ee,m as U,aB as $}from"./index-CzRNNlIw.js";import{a as g}from"./VContainer-WFWzqaWf.js";const ne=W({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1},...Z(q(),["appendInnerIcon","prependInnerIcon"])},"VNumberInput"),re=G()({name:"VNumberInput",props:{...ne()},emits:{"update:modelValue":e=>!0},setup(e,S){let{attrs:te,emit:ae,slots:u}=S;const t=O(e,"modelValue"),E=l(()=>B(e.step)),K=l(()=>t.value!=null?B(t.value):0),h=Q(),c=l(()=>e.disabled||e.readonly||(h==null?void 0:h.isReadonly.value)),I=l(()=>c.value?!1:t.value==null?!0:t.value+e.step<=e.max),V=l(()=>c.value?!1:t.value==null?!0:t.value-e.step>=e.min);X(()=>{c.value||t.value!=null&&(t.value<e.min||t.value>e.max)&&(t.value=Y(t.value,e.min,e.max))});const r=l(()=>e.hideInput?"stacked":e.controlVariant),y=l(()=>r.value==="split"?"$plus":"$collapse"),k=l(()=>r.value==="split"?"$minus":"$expand"),v=l(()=>r.value==="split"?"default":"small"),m=l(()=>r.value==="stacked"?"auto":"100%"),R=l(()=>({click:w})),T=l(()=>({click:x}));function f(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(c.value)return;if(t.value==null){t.value=0;return}const p=Math.max(K.value,E.value);n?I.value&&(t.value=+(t.value+e.step).toFixed(p)):V.value&&(t.value=+(t.value-e.step).toFixed(p))}function w(n){n.stopPropagation(),f()}function x(n){n.stopPropagation(),f(!1)}function j(n){if(!(["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(n.key)||n.ctrlKey)){if(["ArrowDown"].includes(n.key)){n.preventDefault(),f(!1);return}if(["ArrowUp"].includes(n.key)){n.preventDefault(),f();return}/^[0-9\-+.]+$/.test(n.key)||n.preventDefault()}}function H(n){t.value=n?+n:void 0}function D(n){n.stopPropagation()}_(()=>{const{modelValue:n,...p}=M.filterProps(e);function N(){return u.increment?a($,{key:"increment-defaults",defaults:{VBtn:{disabled:!I.value,flat:!0,height:m.value,size:v.value,icon:y.value}}},{default:()=>[u.increment(R.value)]}):a(U,{disabled:!I.value,flat:!0,key:"increment-btn",height:m.value,name:"increment-btn",icon:y.value,onClick:w,onMousedown:D,size:v.value,tabindex:"-1"},null)}function P(){return u.decrement?a($,{key:"decrement-defaults",defaults:{VBtn:{disabled:!V.value,flat:!0,height:m.value,size:v.value,icon:k.value}}},{default:()=>[u.decrement(T.value)]}):a(U,{disabled:!V.value,flat:!0,key:"decrement-btn",height:m.value,name:"decrement-btn",icon:k.value,size:v.value,tabindex:"-1",onClick:x,onMousedown:D},null)}function C(){return a("div",{class:"v-number-input__control"},[P(),a(g,{vertical:r.value!=="stacked"},null),N()])}function F(){return!e.hideInput&&!e.inset?a(g,{vertical:!0},null):void 0}const A=r.value==="split"?a("div",{class:"v-number-input__control"},[a(g,{vertical:!0},null),N()]):e.reverse?void 0:a(b,null,[F(),C()]),J=u["append-inner"]||A,z=r.value==="split"?a("div",{class:"v-number-input__control"},[P(),a(g,{vertical:!0},null)]):e.reverse?a(b,null,[C(),F()]):void 0,L=u["prepend-inner"]||z;return a(M,ee({modelValue:t.value,"onUpdate:modelValue":H,onKeydown:j,class:["v-number-input",{"v-number-input--default":r.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":r.value==="split","v-number-input--stacked":r.value==="stacked"},e.class]},p,{style:e.style,inputmode:"decimal"}),{...u,"append-inner":J?function(){var s;for(var o=arguments.length,d=new Array(o),i=0;i<o;i++)d[i]=arguments[i];return a(b,null,[(s=u["append-inner"])==null?void 0:s.call(u,...d),A])}:void 0,"prepend-inner":L?function(){var s;for(var o=arguments.length,d=new Array(o),i=0;i<o;i++)d[i]=arguments[i];return a(b,null,[z,(s=u["prepend-inner"])==null?void 0:s.call(u,...d)])}:void 0})})}});export{re as V};
