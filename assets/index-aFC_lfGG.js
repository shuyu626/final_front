import{_ as R}from"./search-CaegUs1-.js";import{i as H,n as r,O as E,o as w,c as U,b as e,w as l,S as j,y as W,l as m,B as V,F as B,p as G,C as me,r as ee,a as M,m as F,V as pe,T as xe,h as ke,f as _e,g as f,k as he,x as we,q as Ve,u as $e,d as Pe,s as de,z as Se,e as K,t as re,v as X,A as Ie,D as Ae,E as Ue}from"./index-Db1RanFM.js";import{c as Le,a as O,u as Ce,b as N,V as Be}from"./index.esm-BZo-TVKa.js";import{V as J}from"./VDataTableServer-hnHmGxv9.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Te}from"./VBreadcrumbs-DfgL4WQm.js";import{a as Me,_ as ze,V as Fe}from"./logo-DWBUn4A_.js";import{_ as qe}from"./inputText-CrJrM96A.js";import{V as ie}from"./VContainer-x3tBBA8o.js";import{a as ue,V as A}from"./VRow-BkjsVxfT.js";import{V as De}from"./VSelect-DQDN7R8t.js";import{V as Ke}from"./VTextarea-B2JHA_gm.js";import{b as ce}from"./route-block-B_A1xBdJ.js";import{V as Oe}from"./VNavigationDrawer-UelwTQ2l.js";import{a as Ne,b as Y,c as He,V as Z}from"./VTabs-B93K1yZC.js";import{b as Re,V as Ee,a as je,c as We}from"./VMenu-B0269wpg.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VPagination-sZG7QaYo.js";import"./VToolbar-Bp6C_jrw.js";import"./ssrBoot-D78cn5l7.js";const Ge=m("h2",{class:"my-5 bg-primary text-center w-75 mx-auto"},"帳號管理",-1),Je={style:{width:"220px"}},Qe={style:{width:"350px"},class:"py-2"},Xe={__name:"allAccountTable",setup(T){const{api:q,apiAuth:$}=G(),y=H(),x=r(10),p=r([{key:"createdAt",order:"desc"}]),b=r(1),_=r([]),g=[{title:"圖片",align:"center",sortable:!1,key:"avatar"},{title:"使用者",align:"center",sortable:!1,key:"_id"},{title:"服務單位",align:"center",sortable:!1,key:"username"},{title:"信箱",align:"center",sortable:!1,key:"email"}],k=r(!0),h=r(0),v=r(""),c=async S=>{var o,a,t,u;S&&(b.value=1),k.value=!0;try{const{data:s}=await $.get("/user/",{params:{page:b.value,itemsPerPage:x.value,sortBy:((o=p.value[0])==null?void 0:o.key)||"createdAt",sortOrder:((a=p.value[0])==null?void 0:a.order)||"desc",search:v.value}});_.value.splice(0,_.value.length,...s.result.data),console.log(_.value),h.value=s.result.total}catch(s){console.log(s),y({text:((u=(t=s==null?void 0:s.response)==null?void 0:t.data)==null?void 0:u.message)||"發生錯誤",snackbarProps:{color:"red"}})}k.value=!1};return c(),E(v,()=>{c(!0)}),(S,o)=>{const a=R;return w(),U(B,null,[Ge,e(J,{"items-per-page":x.value,"onUpdate:itemsPerPage":[o[3]||(o[3]=t=>x.value=t),o[6]||(o[6]=t=>c(!1))],"sort-by":p.value,"onUpdate:sortBy":[o[4]||(o[4]=t=>p.value=t),o[7]||(o[7]=t=>c(!1))],page:b.value,"onUpdate:page":[o[5]||(o[5]=t=>b.value=t),o[8]||(o[8]=t=>c(!1))],items:_.value,headers:g,loading:k.value,"items-length":h.value,search:v.value,hover:"",class:"w-75 mx-auto rounded-lg mb-15"},{top:l(()=>[e(a,{class:"my-5",modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=t=>v.value=t),onClickAppend:o[1]||(o[1]=t=>c(!0)),onKeydown:o[2]||(o[2]=j(t=>c(!0),["enter"])),"max-width":"100%"},null,8,["modelValue"])]),"item.avatar":l(({item:t})=>[e(W,{src:t.avatar,width:"100px","max-height":"140px",class:"my-5"},null,8,["src"])]),"item.address":l(({item:t})=>[m("td",Je,V(t.address),1)]),"item.description":l(({item:t})=>[m("td",Qe,V(t.description),1)]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"])],64)}}},Ye={__name:"breadcrumbs",props:{title:{type:Array,default:()=>[""]}},setup(T){return(q,$)=>(w(),U("div",null,[e(Te,{items:T.title,class:"ml-15 mt-5"},{divider:l(()=>[e(me,{icon:"mdi-chevron-right"})]),_:1},8,["items"])]))}},Ze=ge(Ye,[["__scopeId","data-v-f701aa16"]]),et=m("h2",{class:"my-5 bg-accent text-center w-75 mx-auto"},"活動管理",-1),tt={style:{width:"220px"}},at={style:{width:"350px"},class:"py-2"},lt={style:{width:"80px"}},st=m("label",{class:"form-label"},"活動名稱：",-1),ot=m("label",{class:"form-label"},"活動地點：",-1),nt=m("label",{class:"form-label"},"活動類別：",-1),rt=m("label",{class:"form-label"},"活動時間：",-1),it=m("label",{class:"form-label"},"主辦單位：",-1),dt=m("label",{class:"form-label"},"活動介紹：",-1),ut={class:"mx-auto"},ct={__name:"allEventTable",setup(T){const{api:q,apiAuth:$}=G(),y=H(),x=r(null),p=r([]),b=r([]),_=r(10),g=r([{key:"createdAt",order:"desc"}]),k=r(1),h=r([]),v=[{title:"圖片",align:"center",sortable:!1,key:"image"},{title:"活動名稱",align:"center",sortable:!1,key:"title"},{title:"活動地點",align:"center",sortable:!1,key:"address"},{title:"活動類別",align:"center",sortable:!0,key:"category"},{title:"活動時間",align:"center",sortable:!0,key:"date"},{title:"主辦單位",align:"center",sortable:!1,key:"organizer"},{title:"活動介紹",align:"center",sortable:!1,key:"description"},{title:"操作",align:"center",sortable:!1,key:"action"}],c=r(!0),S=r(0),o=r(""),a=async I=>{var n,z,L,P;I&&(k.value=1),c.value=!0;try{const{data:C}=await $.get("/event/all",{params:{page:k.value,itemsPerPage:_.value,sortBy:((n=g.value[0])==null?void 0:n.key)||"createdAt",sortOrder:((z=g.value[0])==null?void 0:z.order)||"desc",search:o.value}});h.value.splice(0,h.value.length,...C.result.data),S.value=C.result.total}catch(C){console.log(C),y({text:((P=(L=C==null?void 0:C.response)==null?void 0:L.data)==null?void 0:P.message)||"發生錯誤",snackbarProps:{color:"red"}})}c.value=!1};a();const t=["兒童","青少年","育兒","長照","精神","照顧","就學","就業","身障","親職教育","早療","紓壓","居住","醫療","司法","社工","其他"],u=r({open:!1,id:""}),s=()=>{u.value.open=!1,be(),x.value.deleteFileRecord()},d=Le({title:O().required("活動標題必填"),date:O().required("活動日期必填"),address:O().required("活動地點必填"),category:O().required("活動分類必填").test("isCategory","商品分類錯誤",I=>t.includes(I)),organizer:O().required("主辦單位必填"),description:O().required("活動介紹必填")}),{handleSubmit:D,isSubmitting:Q,resetForm:be}=Ce({validationSchema:d,initialValues:{title:"",date:"",address:"",category:"",organizer:"",description:""}}),te=N("title"),ae=N("date"),le=N("address"),se=N("category"),oe=N("organizer"),ne=N("description"),fe=D(async I=>{var n,z,L;if(!((n=p.value[0])!=null&&n.error)&&!(p.value.length<1))try{const P=new FormData;P.append("title",I.title),P.append("date",I.date),P.append("address",I.address),P.append("category",I.category),P.append("organizer",I.organizer),P.append("description",I.description),p.value.length>0&&P.append("image",p.value[0].file),await $.patch("/event/"+u.value.id,P),y({text:"新增成功",snackbarProps:{color:"green"}}),s()}catch(P){console.log(P),y({text:((L=(z=P==null?void 0:P.response)==null?void 0:z.data)==null?void 0:L.message)||"發生錯誤",snackbarProps:{color:"red"}})}});E(o,()=>{a(!0)});const ye=async I=>{var n,z;try{await $.delete(`/event/${I._id}`),y({text:"刪除成功",snackbarProps:{color:"green"}}),a(!0)}catch(L){console.log(L),y({text:((z=(n=L==null?void 0:L.response)==null?void 0:n.data)==null?void 0:z.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return(I,n)=>{const z=R,L=ee("router-link"),P=ee("vue-file-agent"),C=qe;return w(),U(B,null,[et,e(J,{"items-per-page":_.value,"onUpdate:itemsPerPage":[n[3]||(n[3]=i=>_.value=i),n[6]||(n[6]=i=>a(!1))],"sort-by":g.value,"onUpdate:sortBy":[n[4]||(n[4]=i=>g.value=i),n[7]||(n[7]=i=>a(!1))],page:k.value,"onUpdate:page":[n[5]||(n[5]=i=>k.value=i),n[8]||(n[8]=i=>a(!1))],items:h.value,headers:v,loading:c.value,"items-length":S.value,search:o.value,hover:"",class:"w-75 mx-auto rounded-lg mb-15"},{top:l(()=>[e(z,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=i=>o.value=i),onClickAppend:n[1]||(n[1]=i=>a(!0)),onKeydown:n[2]||(n[2]=j(i=>a(!0),["enter"])),"max-width":"100%",class:"my-5"},null,8,["modelValue"])]),"item.image":l(({item:i})=>[e(L,{to:"/event/"+i._id,style:{"text-decoration":"none"}},{default:l(()=>[e(W,{src:i.image,width:"100px","max-height":"140px",class:"my-5"},null,8,["src"])]),_:2},1032,["to"])]),"item.address":l(({item:i})=>[m("td",tt,V(i.address),1)]),"item.category":l(({item:i})=>[m("td",null,V(i.category.join(" , ")),1)]),"item.description":l(({item:i})=>[m("td",at,V(i.description),1)]),"item.action":l(({item:i})=>[m("td",lt,[M(V(i.action)+" ",1),e(F,{icon:"mdi-delete",variant:"text",color:"red-darken-4",onClick:Tt=>ye(i)},null,8,["onClick"])])]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"]),e(we,{"max-width":"700",modelValue:u.value.open,"onUpdate:modelValue":n[18]||(n[18]=i=>u.value.open=i)},{default:l(()=>[e(pe,null,{default:l(()=>[e(ie,null,{default:l(()=>[e(xe,{class:"font-weight-black text-center text-h4"},{default:l(()=>[M("新增活動")]),_:1}),e(ke,null,{default:l(()=>[e(Be,{onSubmit:_e(f(fe),["prevent"]),disabled:f(Q)},{default:l(()=>[e(ue,null,{default:l(()=>[e(A,null,{default:l(()=>[e(P,{modelValue:p.value,"onUpdate:modelValue":n[9]||(n[9]=i=>p.value=i),"raw-model-value":b.value,"onUpdate:rawModelValue":n[10]||(n[10]=i=>b.value=i),accept:"image/jpeg,image/png",deletable:"","max-size":"1MB","help-text":"選擇檔案或拖曳到這裡","error-text":{type:"檔案格式不支援",size:"檔案大小不能超過 1MB"},ref_key:"fileAgent",ref:x},null,8,["modelValue","raw-model-value"])]),_:1})]),_:1}),e(ue,null,{default:l(()=>[e(A,{cols:"12",md:"3",class:"my-auto text-center"},{default:l(()=>[st]),_:1}),e(A,{cols:"12",md:"9"},{default:l(()=>[e(C,{modelValue:f(te).value.value,"onUpdate:modelValue":n[11]||(n[11]=i=>f(te).value.value=i),"error-messages":f(te).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1}),e(A,{cols:"12",md:"3",class:"my-auto text-center"},{default:l(()=>[ot]),_:1}),e(A,{cols:"12",md:"9"},{default:l(()=>[e(C,{modelValue:f(le).value.value,"onUpdate:modelValue":n[12]||(n[12]=i=>f(le).value.value=i),"error-messages":f(le).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1}),e(A,{cols:"12",md:"3",class:"my-auto text-center"},{default:l(()=>[nt]),_:1}),e(A,{cols:"12",md:"3"},{default:l(()=>[e(De,{modelValue:f(se).value.value,"onUpdate:modelValue":n[13]||(n[13]=i=>f(se).value.value=i),"error-messages":f(se).errorMessage.value,label:"選擇",variant:"outlined",density:"comfortable",dense:"",width:"140",items:t,"hide-details":""},null,8,["modelValue","error-messages"])]),_:1}),e(A,{cols:"3",class:"my-auto text-center px-0"},{default:l(()=>[rt]),_:1}),e(A,{cols:"3"},{default:l(()=>[e(C,{modelValue:f(ae).value.value,"onUpdate:modelValue":n[14]||(n[14]=i=>f(ae).value.value=i),"error-messages":f(ae).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1}),e(A,{cols:"12",md:"3",class:"my-auto text-center"},{default:l(()=>[it]),_:1}),e(A,{cols:"12",md:"9"},{default:l(()=>[e(C,{modelValue:f(oe).value.value,"onUpdate:modelValue":n[15]||(n[15]=i=>f(oe).value.value=i),"error-messages":f(oe).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1}),e(A,{cols:"12",md:"3",class:"text-center"},{default:l(()=>[dt]),_:1}),e(A,{cols:"12",md:"9"},{default:l(()=>[e(Ke,{label:"輸入文字",variant:"outlined",clearable:"","hide-details":"",modelValue:f(ne).value.value,"onUpdate:modelValue":n[16]||(n[16]=i=>f(ne).value.value=i),"error-messages":f(ne).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(he,null,{default:l(()=>[m("div",ut,[e(F,{variant:"text",class:"rounded-xl b-1",density:"comfortable",type:"submit",loading:f(Q)},{default:l(()=>[M("送出")]),_:1},8,["loading"]),e(F,{text:"取消",variant:"text",class:"rounded-xl b-1",density:"comfortable",onClick:n[17]||(n[17]=i=>s())})])]),_:1})]),_:1},8,["onSubmit","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},mt=m("h2",{class:"my-5 bg-accent text-center w-75 mx-auto"},"我要募資",-1),pt={style:{width:"250px"},class:"py-2"},gt={style:{width:"80px"}},vt={__name:"allFindTable",props:{cardTitle:{type:String,default:"發布需求"},numberTitle:{type:String,default:"需求量"},descriptionTitle:{type:String,default:"需求介紹"},type:{type:String,default:"share"}},setup(T){const{api:q,apiAuth:$}=G(),y=H(),x=r(8),p=r([{key:"createdAt",order:"desc"}]),b=r(1),_=r([]),g=[{title:"圖片",align:"center",sortable:!1,key:"image"},{title:"名稱",align:"center",sortable:!1,key:"name"},{title:"數量",align:"center",sortable:!1,key:"quantity"},{title:"分類",align:"center",sortable:!0,key:"category"},{title:"概況",align:"center",sortable:!1,key:"description"},{title:"單位",align:"center",sortable:!1,key:"organizer"},{title:"操作",align:"center",sortable:!1,key:"action"}],k=r(!0),h=r(0),v=r(""),c=async o=>{var a,t,u,s;o&&(b.value=1),k.value=!0;try{const{data:d}=await $.get("/material/find",{params:{page:b.value,itemsPerPage:x.value,sortBy:((a=p.value[0])==null?void 0:a.key)||"createdAt",sortOrder:((t=p.value[0])==null?void 0:t.order)||"desc",search:v.value}});_.value.splice(0,_.value.length,...d.result.data),h.value=d.result.total}catch(d){console.log(d),y({text:((s=(u=d==null?void 0:d.response)==null?void 0:u.data)==null?void 0:s.message)||"發生錯誤",snackbarProps:{color:"red"}})}k.value=!1};c(),E(v,()=>{c(!0)});const S=async o=>{var a,t;try{await $.delete(`/Material/${o._id}`),y({text:"刪除成功",snackbarProps:{color:"green"}}),c(!0)}catch(u){console.log(u),y({text:((t=(a=u==null?void 0:u.response)==null?void 0:a.data)==null?void 0:t.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return(o,a)=>{const t=R,u=ee("router-link");return w(),U(B,null,[mt,e(J,{"items-per-page":x.value,"onUpdate:itemsPerPage":[a[3]||(a[3]=s=>x.value=s),a[6]||(a[6]=s=>c(!1))],"sort-by":p.value,"onUpdate:sortBy":[a[4]||(a[4]=s=>p.value=s),a[7]||(a[7]=s=>c(!1))],page:b.value,"onUpdate:page":[a[5]||(a[5]=s=>b.value=s),a[8]||(a[8]=s=>c(!1))],items:_.value,headers:g,loading:k.value,"items-length":h.value,search:v.value,hover:"",class:"w-75 mx-auto b-1 rounded-lg mb-15"},{top:l(()=>[e(t,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=s=>v.value=s),onClickAppend:a[1]||(a[1]=s=>c(!0)),onKeydown:a[2]||(a[2]=j(s=>c(!0),["enter"])),"max-width":"100%",class:"my-5"},null,8,["modelValue"])]),"item.image":l(({item:s})=>[e(u,{to:"/material/find/"+s._id,style:{"text-decoration":"none"}},{default:l(()=>[e(W,{src:s.image,width:"80px","max-height":"100px"},null,8,["src"])]),_:2},1032,["to"])]),"item.description":l(({item:s})=>[m("td",pt,V(s.description),1)]),"item.action":l(({item:s})=>[m("td",gt,[M(V(s.action)+" ",1),e(F,{icon:"mdi-delete",variant:"text",color:"red-darken-4",onClick:d=>S(s)},null,8,["onClick"])])]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"])],64)}}},bt=m("h2",{class:"my-5 bg-accent text-center w-75 mx-auto"},"我要分享",-1),ft={style:{width:"250px"},class:"py-2"},yt={style:{width:"80px"}},xt={__name:"allShareTable",props:{cardTitle:{type:String,default:"發布需求"},numberTitle:{type:String,default:"需求量"},descriptionTitle:{type:String,default:"需求介紹"},type:{type:String,default:"share"}},setup(T){const{api:q,apiAuth:$}=G(),y=H();r(null),r([]),r([]);const x=r(8),p=r([{key:"createdAt",order:"desc"}]),b=r(1),_=r([]),g=[{title:"圖片",align:"center",sortable:!1,key:"image"},{title:"名稱",align:"center",sortable:!1,key:"name"},{title:"數量",align:"center",sortable:!1,key:"quantity"},{title:"分類",align:"center",sortable:!0,key:"category"},{title:"概況",align:"center",sortable:!1,key:"description"},{title:"單位",align:"center",sortable:!1,key:"organizer"},{title:"操作",align:"center",sortable:!1,key:"action"}],k=r(!0),h=r(0),v=r(""),c=async o=>{var a,t,u,s;o&&(b.value=1),k.value=!0;try{const{data:d}=await $.get("/material/share",{params:{page:b.value,itemsPerPage:x.value,sortBy:((a=p.value[0])==null?void 0:a.key)||"createdAt",sortOrder:((t=p.value[0])==null?void 0:t.order)||"desc",search:v.value}});_.value.splice(0,_.value.length,...d.result.data),h.value=d.result.total}catch(d){console.log(d),y({text:((s=(u=d==null?void 0:d.response)==null?void 0:u.data)==null?void 0:s.message)||"發生錯誤",snackbarProps:{color:"red"}})}k.value=!1};c(),E(v,()=>{c(!0)});const S=async o=>{var a,t;try{await $.delete(`/Material/${o._id}`),y({text:"刪除成功",snackbarProps:{color:"green"}}),c(!0)}catch(u){console.log(u),y({text:((t=(a=u==null?void 0:u.response)==null?void 0:a.data)==null?void 0:t.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return(o,a)=>{const t=R,u=ee("router-link");return w(),U(B,null,[bt,e(J,{"items-per-page":x.value,"onUpdate:itemsPerPage":[a[3]||(a[3]=s=>x.value=s),a[6]||(a[6]=s=>c(!1))],"sort-by":p.value,"onUpdate:sortBy":[a[4]||(a[4]=s=>p.value=s),a[7]||(a[7]=s=>c(!1))],page:b.value,"onUpdate:page":[a[5]||(a[5]=s=>b.value=s),a[8]||(a[8]=s=>c(!1))],items:_.value,headers:g,loading:k.value,"items-length":h.value,search:v.value,hover:"",class:"w-75 mx-auto b-1 rounded-lg mb-15"},{top:l(()=>[e(t,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=s=>v.value=s),onClickAppend:a[1]||(a[1]=s=>c(!0)),onKeydown:a[2]||(a[2]=j(s=>c(!0),["enter"])),"max-width":"100%",class:"my-5"},null,8,["modelValue"])]),"item.image":l(({item:s})=>[e(u,{to:"/material/share/"+s._id,style:{"text-decoration":"none"}},{default:l(()=>[e(W,{src:s.image,width:"80px","max-height":"100px"},null,8,["src"])]),_:2},1032,["to"])]),"item.description":l(({item:s})=>[m("td",ft,V(s.description),1)]),"item.action":l(({item:s})=>[m("td",yt,[M(V(s.action)+" ",1),e(F,{icon:"mdi-delete",variant:"text",color:"red-darken-4",onClick:d=>S(s)},null,8,["onClick"])])]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"])],64)}}},kt=m("h2",{class:"my-5 bg-accent text-center w-75 mx-auto"},"地標管理",-1),_t={style:{width:"240px"}},ht={style:{width:"120px"}},wt={style:{width:"300px"},class:"text-left"},Vt={style:{width:"200px"},class:"text-center"},$t={style:{width:"350px"},class:"py-2 text-left"},Pt={style:{width:"80px"}},St={__name:"allLandmark",setup(T){const{apiAuth:q}=G(),$=H(),y=r(10),x=r([{key:"createdAt",order:"desc"}]),p=r(1),b=r([]),_=[{title:"服務名稱",align:"center",sortable:!1,key:"name"},{title:"地址",align:"center",sortable:!0,key:"address"},{title:"聯絡電話",align:"center",sortable:!1,key:"tel"},{title:"服務項目",align:"center",sortable:!0,key:"categories"},{title:"服務介紹",align:"center",sortable:!1,key:"description"},{title:"操作",align:"center",sortable:!1,key:"action"}],g=r(!0),k=r(0),h=r(""),v=async S=>{var o,a,t,u;S&&(p.value=1),g.value=!0;try{const{data:s}=await q.get("/landmark/",{params:{page:p.value,itemsPerPage:y.value,sortBy:((o=x.value[0])==null?void 0:o.key)||"createdAt",sortOrder:((a=x.value[0])==null?void 0:a.order)||"desc",search:h.value}});console.log(s),b.value.splice(0,b.value.length,...s.result.data),k.value=s.result.total}catch(s){console.log(s),$({text:((u=(t=s==null?void 0:s.response)==null?void 0:t.data)==null?void 0:u.message)||"發生錯誤",snackbarProps:{color:"red"}})}g.value=!1};v(),E(h,()=>{v(!0)});const c=async S=>{var o,a;try{await q.delete(`/landmark/${S._id}`),$({text:"刪除成功",snackbarProps:{color:"green"}}),v(!0)}catch(t){console.log(t),$({text:((a=(o=t==null?void 0:t.response)==null?void 0:o.data)==null?void 0:a.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return(S,o)=>{const a=R;return w(),U(B,null,[kt,e(J,{"items-per-page":y.value,"onUpdate:itemsPerPage":[o[3]||(o[3]=t=>y.value=t),o[6]||(o[6]=t=>v(!1))],"sort-by":x.value,"onUpdate:sortBy":[o[4]||(o[4]=t=>x.value=t),o[7]||(o[7]=t=>v(!1))],page:p.value,"onUpdate:page":[o[5]||(o[5]=t=>p.value=t),o[8]||(o[8]=t=>v(!1))],items:b.value,headers:_,loading:g.value,"items-length":k.value,search:h.value,hover:"",class:"w-75 mx-auto rounded-lg mb-15"},{top:l(()=>[e(a,{modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=t=>h.value=t),onClickAppend:o[1]||(o[1]=t=>v(!0)),onKeydown:o[2]||(o[2]=j(t=>v(!0),["enter"])),"max-width":"100%",class:"my-5"},null,8,["modelValue"])]),"item.name":l(({item:t})=>[m("td",_t,V(t.name),1)]),"item.tel":l(({item:t})=>[m("td",ht,V(t.tel),1)]),"item.address":l(({item:t})=>[m("td",wt,V(t.address),1)]),"item.categories":l(({item:t})=>[m("td",Vt,V(t.categories.join(" , ")),1)]),"item.description":l(({item:t})=>[m("td",$t,V(t.description),1)]),"item.action":l(({item:t})=>[m("td",Pt,[M(V(t.action)+" ",1),e(F,{icon:"mdi-delete",variant:"text",color:"red-darken-4",onClick:u=>c(t)},null,8,["onClick"])])]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"])],64)}}},It=T=>(Ae("data-v-b4e03698"),T=T(),Ue(),T),At=It(()=>m("span",{style:{"text-transform":"capitalize",color:"#474747"},class:"text-h5 pl-1"},"KeeperS",-1)),Ut={class:"d-flex flex-row"},Lt={class:"mx-auto mb-5 rounded-lg"},Ct={class:"mx-auto mb-5 rounded-lg"},Bt={class:"mx-auto mb-5 rounded-lg"},ve={__name:"index",setup(T){const q=["會員中心","基本資料"],$=["會員中心","地標管理"],y=["會員中心","貼文管理"],x=["會員中心","活動收藏"],p=r("option-1"),{mobile:b}=Ve(),_=$e(),g=Pe(),k=H(),h=r(!1),v=de(()=>[{title:"資源地圖",icon:"mdi-map-search",show:g.isLogin,items:[{to:"/",text:"資源查詢",show:g.isLogin},{to:"/map/createMark",text:"新增資源",show:g.isLogin}]},{title:"物資分享",icon:"mdi-package-variant",show:g.isLogin,items:[{to:"/material/find/findMaterial",text:"我要募資",show:g.isLogin||g.isAdmin},{to:"/material/share/shareMaterial",text:"我要分享",show:g.isLogin||g.isAdmin}]}]),c=de(()=>[{to:"/",text:"資源地圖",icon:"mdi-map-search",show:!g.isLogin},{to:"/event/findEvent",text:"活動分享",icon:"mdi-calendar",show:!0},{to:"/setting",text:"管理",icon:"mdi-cog",show:g.isLogin},{to:"",text:"註冊/登入",icon:"mdi-account-plus",show:!g.isLogin},{to:"/admin/",text:"管理者",icon:"mdi-face-man",show:g.isLogin&&g.isAdmin}]),S=a=>{a.text==="註冊/登入"&&(dialogOpen.value=!0)},o=async()=>{await g.logout(),k({text:"登出成功",snackbarProps:{color:"green"}}),_.push("/")};return(a,t)=>{const u=Ze,s=Xe;return w(),U(B,null,[e(Me,{color:"info","scroll-behavior":"elevate",class:"b-1"},{default:l(()=>[e(ie,{class:"d-flex align-center"},{default:l(()=>[e(F,{to:"/",active:!1,class:"p-1"},{default:l(()=>[e(W,{src:ze,width:"38",class:"d-inline-block",style:{"vertical-align":"cneter"},contain:""}),At]),_:1}),e(Se),f(b)?(w(),K(Fe,{key:0,onClick:t[0]||(t[0]=d=>h.value=!0)})):(w(),U(B,{key:1},[(w(!0),U(B,null,re(v.value,d=>(w(),K(Re,{key:d.title,"open-on-hover":"",transition:"slide-y-transition"},{activator:l(({props:D})=>[d.show?(w(),K(F,Ie({key:0,ref_for:!0},D,{ripple:!1,"prepend-icon":d.icon,class:"font-weight-black pe-1"}),{default:l(()=>[M(V(d.title)+" ",1),e(me,null,{default:l(()=>[M("mdi-menu-down")]),_:1})]),_:2},1040,["prepend-icon"])):X("",!0)]),default:l(()=>[e(Ee,null,{default:l(()=>[(w(!0),U(B,null,re(d.items,(D,Q)=>(w(),U(B,{key:Q},[D.show?(w(),K(je,{key:0,to:D.to,link:""},{default:l(()=>[e(We,null,{default:l(()=>[M(V(D.text),1)]),_:2},1024)]),_:2},1032,["to"])):X("",!0)],64))),128))]),_:2},1024)]),_:2},1024))),128)),(w(!0),U(B,null,re(c.value,d=>(w(),U(B,null,[d.show?(w(),K(F,{key:d.to,"prepend-icon":d.icon,to:d.to,active:!1,class:"mx-1 font-weight-black pe-1",onClick:D=>S(d)},{default:l(()=>[M(V(d.text),1)]),_:2},1032,["prepend-icon","to","onClick"])):X("",!0)],64))),256)),f(g).isLogin?(w(),K(F,{key:0,class:"ms-8 bg-accent b-1",elevation:"2","prepend-icon":"mdi-account-arrow-right",onClick:o},{default:l(()=>[M("登出")]),_:1})):X("",!0)],64))]),_:1})]),_:1}),e(Oe,{color:"info",class:"b-1"},{default:l(()=>[e(Ne,{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=d=>p.value=d),color:"black",direction:"vertical","show-arrows":""},{default:l(()=>[e(Y,{"prepend-icon":"mdi-account-wrench",text:"用戶管理",value:"option-1",height:"100",class:"text-body-1 ms-1"}),e(Y,{"prepend-icon":"mdi-map-marker-multiple",text:"資源地圖",value:"option-2",height:"100",class:"text-body-1 ms-1"}),e(Y,{"prepend-icon":"mdi-calendar-cursor",text:"活動分享",value:"option-3",height:"100",class:"text-body-1 ms-1"}),e(Y,{"prepend-icon":"mdi-gift",text:"物資分享",value:"option-4",height:"100",class:"text-body-1 ms-1"})]),_:1},8,["modelValue"])]),_:1}),e(pe,{class:"h-100"},{default:l(()=>[m("div",Ut,[e(ie,null,{default:l(()=>[e(He,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=d=>p.value=d),class:"my-10"},{default:l(()=>[e(Z,{value:"option-1"},{default:l(()=>[e(u,{title:q}),e(s)]),_:1}),e(Z,{value:"option-2"},{default:l(()=>[e(u,{title:$}),e(St)]),_:1}),e(Z,{value:"option-3"},{default:l(()=>[e(u,{title:y}),m("div",Lt,[e(ct)])]),_:1}),e(Z,{value:"option-4"},{default:l(()=>[e(u,{title:x}),m("div",Ct,[e(vt)]),m("div",Bt,[e(xt)])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})],64)}}};typeof ce=="function"&&ce(ve);const ta=ge(ve,[["__scopeId","data-v-b4e03698"]]);export{ta as default};
