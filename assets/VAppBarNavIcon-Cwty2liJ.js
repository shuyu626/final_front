import{m as L,V as T}from"./VToolbar-BUpNvXFn.js";import{E as V,n as w,U as f,s as o,W as M,N as b,O as U,X as z,Y as C,J as A,Z as F,_ as O,$ as W,a0 as N,M as P,b as E,z as R,a1 as Y,a2 as $,m as q}from"./index-BVlipDpZ.js";import{u as J}from"./ssrBoot-C5Bz9rcN.js";const X=V({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Z(e){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:u}=p;let d=0,s=0;const l=w(null),n=f(0),r=f(0),m=f(0),S=f(!1),c=f(!1),v=o(()=>Number(e.scrollThreshold)),B=o(()=>M((v.value-n.value)/v.value||0)),h=()=>{const t=l.value;if(!t||u&&!u.value)return;d=n.value,n.value="window"in t?t.pageYOffset:t.scrollTop;const i=t instanceof Window?document.documentElement.scrollHeight:t.scrollHeight;if(s!==i){s=i;return}c.value=n.value<d,m.value=Math.abs(n.value-v.value)};return b(c,()=>{r.value=r.value||n.value}),b(S,()=>{r.value=0}),U(()=>{b(()=>e.scrollTarget,t=>{var y;const i=t?document.querySelector(t):window;i&&i!==l.value&&((y=l.value)==null||y.removeEventListener("scroll",h),l.value=i,l.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),z(()=>{var t;(t=l.value)==null||t.removeEventListener("scroll",h)}),u&&b(u,h,{immediate:!0}),{scrollThreshold:v,currentScroll:n,currentThreshold:m,isScrollActive:S,scrollRatio:B,isScrollingUp:c,savedScroll:r}}const _=V({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...L(),...C(),...X(),height:{type:[Number,String],default:64}},"VAppBar"),Q=A()({name:"VAppBar",props:_(),emits:{"update:modelValue":e=>!0},setup(e,p){let{slots:u}=p;const d=w(),s=F(e,"modelValue"),l=o(()=>{var g;const a=new Set(((g=e.scrollBehavior)==null?void 0:g.split(" "))??[]);return{hide:a.has("hide"),fullyHide:a.has("fully-hide"),inverted:a.has("inverted"),collapse:a.has("collapse"),elevate:a.has("elevate"),fadeImage:a.has("fade-image")}}),n=o(()=>{const a=l.value;return a.hide||a.fullyHide||a.inverted||a.collapse||a.elevate||a.fadeImage||!s.value}),{currentScroll:r,scrollThreshold:m,isScrollingUp:S,scrollRatio:c}=Z(e,{canScroll:n}),v=o(()=>l.value.hide||l.value.fullyHide),B=o(()=>e.collapse||l.value.collapse&&(l.value.inverted?c.value>0:c.value===0)),h=o(()=>e.flat||l.value.fullyHide&&!s.value||l.value.elevate&&(l.value.inverted?r.value>0:r.value===0)),t=o(()=>l.value.fadeImage?l.value.inverted?1-c.value:c.value:void 0),i=o(()=>{var H,I;const a=Number(((H=d.value)==null?void 0:H.contentHeight)??e.height),g=Number(((I=d.value)==null?void 0:I.extensionHeight)??0);return v.value?r.value<m.value||l.value.fullyHide?a+g:a:a+g});O(o(()=>!!e.scrollBehavior),()=>{Y(()=>{v.value?l.value.inverted?s.value=r.value>m.value:s.value=S.value||r.value<m.value:s.value=!0})});const{ssrBootStyles:y}=J(),{layoutItemStyles:k,layoutIsReady:x}=W({id:e.name,order:o(()=>parseInt(e.order,10)),position:N(e,"location"),layoutSize:i,elementSize:f(void 0),active:s,absolute:N(e,"absolute")});return P(()=>{const a=T.filterProps(e);return E(T,R({ref:d,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...k.value,"--v-toolbar-image-opacity":t.value,height:void 0,...y.value},e.style]},a,{collapse:B.value,flat:h.value}),u)}),x}}),j=V({...$({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),ee=A()({name:"VAppBarNavIcon",props:j(),setup(e,p){let{slots:u}=p;return P(()=>E(q,R(e,{class:["v-app-bar-nav-icon"]}),u)),{}}});export{ee as V,Q as a};
