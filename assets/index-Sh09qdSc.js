import{_ as H}from"./search-DRDwrag7.js";import{i as O,n as r,N as j,o as $,c as C,b as t,w as l,R as E,S as ee,l as m,A as V,F as B,p as W,r as Z,a as T,m as z,V as me,T as fe,h as ye,f as xe,g as f,k as ke,x as _e,q as we,u as Ve,d as he,s as de,y as $e,e as D,t as re,v as Q,z as Pe,B as Se}from"./index-DinF4U3z.js";import{c as Ae,a as N,u as Ie,b as K,V as Ue}from"./index.esm--oIPo5cr.js";import{V as G}from"./VDataTableServer-B5LuOPcP.js";import{a as ue,V as I,_ as Le}from"./breadcrumbs-Ds8NVqxL.js";import{_ as Ce}from"./inputText-DrioZ0pC.js";import{V as ie}from"./VContainer-UVUPIkTn.js";import{V as Be}from"./VSelect-DEE7wmEY.js";import{V as Te}from"./VTextarea-CJ67ppp-.js";import{b as ce}from"./route-block-B_A1xBdJ.js";import{_ as Me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as ze,V as Fe}from"./VAppBarNavIcon-5BPYKjKc.js";import{V as qe}from"./VNavigationDrawer-DZA3lHVT.js";import{a as De,b as X,c as Ne,V as Y}from"./VTabs-COAyIDuF.js";import{b as Ke,V as Oe,a as Re,c as He}from"./VMenu-7ZGqqFdC.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VPagination-BllXf-Gk.js";import"./VChip-DL3v5xR4.js";import"./VSlideGroup-Czikn6IM.js";import"./VToolbar-C2axwXnU.js";import"./ssrBoot-BaT9uRXm.js";const je=m("h2",{class:"my-5 bg-primary text-center w-75 mx-auto"},"帳號管理",-1),Ee={style:{width:"220px"}},We={style:{width:"350px"},class:"py-2"},Ge={__name:"allAccountTable",setup(R){const{api:F,apiAuth:P}=W(),y=O(),x=r(10),p=r([{key:"createdAt",order:"desc"}]),b=r(1),_=r([]),g=[{title:"圖片",align:"center",sortable:!1,key:"avatar"},{title:"使用者",align:"center",sortable:!1,key:"_id"},{title:"服務單位",align:"center",sortable:!1,key:"username"},{title:"信箱",align:"center",sortable:!1,key:"email"}],k=r(!0),w=r(0),v=r(""),c=async S=>{var o,a,e,u;S&&(b.value=1),k.value=!0;try{const{data:s}=await P.get("/user/",{params:{page:b.value,itemsPerPage:x.value,sortBy:((o=p.value[0])==null?void 0:o.key)||"createdAt",sortOrder:((a=p.value[0])==null?void 0:a.order)||"desc",search:v.value}});_.value.splice(0,_.value.length,...s.result.data),console.log(_.value),w.value=s.result.total}catch(s){console.log(s),y({text:((u=(e=s==null?void 0:s.response)==null?void 0:e.data)==null?void 0:u.message)||"發生錯誤",snackbarProps:{color:"red"}})}k.value=!1};return c(),j(v,()=>{c(!0)}),(S,o)=>{const a=H;return $(),C(B,null,[je,t(G,{"items-per-page":x.value,"onUpdate:itemsPerPage":[o[3]||(o[3]=e=>x.value=e),o[6]||(o[6]=e=>c(!1))],"sort-by":p.value,"onUpdate:sortBy":[o[4]||(o[4]=e=>p.value=e),o[7]||(o[7]=e=>c(!1))],page:b.value,"onUpdate:page":[o[5]||(o[5]=e=>b.value=e),o[8]||(o[8]=e=>c(!1))],items:_.value,headers:g,loading:k.value,"items-length":w.value,search:v.value,hover:"",class:"w-75 mx-auto rounded-lg mb-15"},{top:l(()=>[t(a,{class:"my-5",modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=e=>v.value=e),onClickAppend:o[1]||(o[1]=e=>c(!0)),onKeydown:o[2]||(o[2]=E(e=>c(!0),["enter"])),"max-width":"100%"},null,8,["modelValue"])]),"item.avatar":l(({item:e})=>[t(ee,{src:e.avatar,width:"100px","max-height":"140px",class:"my-5"},null,8,["src"])]),"item.address":l(({item:e})=>[m("td",Ee,V(e.address),1)]),"item.description":l(({item:e})=>[m("td",We,V(e.description),1)]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"])],64)}}},Je=m("h2",{class:"my-5 bg-accent text-center w-75 mx-auto"},"活動管理",-1),Qe={style:{width:"220px"}},Xe={style:{width:"350px"},class:"py-2"},Ye={style:{width:"80px"}},Ze=m("label",{class:"form-label"},"活動名稱：",-1),et=m("label",{class:"form-label"},"活動地點：",-1),tt=m("label",{class:"form-label"},"活動類別：",-1),at=m("label",{class:"form-label"},"活動時間：",-1),lt=m("label",{class:"form-label"},"主辦單位：",-1),st=m("label",{class:"form-label"},"活動介紹：",-1),ot={class:"mx-auto"},nt={__name:"allEventTable",setup(R){const{api:F,apiAuth:P}=W(),y=O(),x=r(null),p=r([]),b=r([]),_=r(10),g=r([{key:"createdAt",order:"desc"}]),k=r(1),w=r([]),v=[{title:"圖片",align:"center",sortable:!1,key:"image"},{title:"活動名稱",align:"center",sortable:!1,key:"title"},{title:"活動地點",align:"center",sortable:!1,key:"address"},{title:"活動類別",align:"center",sortable:!0,key:"category"},{title:"活動時間",align:"center",sortable:!0,key:"date"},{title:"主辦單位",align:"center",sortable:!1,key:"organizer"},{title:"活動介紹",align:"center",sortable:!1,key:"description"},{title:"操作",align:"center",sortable:!1,key:"action"}],c=r(!0),S=r(0),o=r(""),a=async A=>{var n,M,U,h;A&&(k.value=1),c.value=!0;try{const{data:L}=await P.get("/event/all",{params:{page:k.value,itemsPerPage:_.value,sortBy:((n=g.value[0])==null?void 0:n.key)||"createdAt",sortOrder:((M=g.value[0])==null?void 0:M.order)||"desc",search:o.value}});w.value.splice(0,w.value.length,...L.result.data),S.value=L.result.total}catch(L){console.log(L),y({text:((h=(U=L==null?void 0:L.response)==null?void 0:U.data)==null?void 0:h.message)||"發生錯誤",snackbarProps:{color:"red"}})}c.value=!1};a();const e=["兒童","青少年","育兒","長照","精神","照顧","就學","就業","身障","親職教育","早療","紓壓","居住","醫療","司法","社工","其他"],u=r({open:!1,id:""}),s=()=>{u.value.open=!1,ge(),x.value.deleteFileRecord()},d=Ae({title:N().required("活動標題必填"),date:N().required("活動日期必填"),address:N().required("活動地點必填"),category:N().required("活動分類必填").test("isCategory","商品分類錯誤",A=>e.includes(A)),organizer:N().required("主辦單位必填"),description:N().required("活動介紹必填")}),{handleSubmit:q,isSubmitting:J,resetForm:ge}=Ie({validationSchema:d,initialValues:{title:"",date:"",address:"",category:"",organizer:"",description:""}}),te=K("title"),ae=K("date"),le=K("address"),se=K("category"),oe=K("organizer"),ne=K("description"),ve=q(async A=>{var n,M,U;if(!((n=p.value[0])!=null&&n.error)&&!(p.value.length<1))try{const h=new FormData;h.append("title",A.title),h.append("date",A.date),h.append("address",A.address),h.append("category",A.category),h.append("organizer",A.organizer),h.append("description",A.description),p.value.length>0&&h.append("image",p.value[0].file),await P.patch("/event/"+u.value.id,h),y({text:"新增成功",snackbarProps:{color:"green"}}),s()}catch(h){console.log(h),y({text:((U=(M=h==null?void 0:h.response)==null?void 0:M.data)==null?void 0:U.message)||"發生錯誤",snackbarProps:{color:"red"}})}});j(o,()=>{a(!0)});const be=async A=>{var n,M;try{await P.delete(`/event/${A._id}`),y({text:"刪除成功",snackbarProps:{color:"green"}}),a(!0)}catch(U){console.log(U),y({text:((M=(n=U==null?void 0:U.response)==null?void 0:n.data)==null?void 0:M.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return(A,n)=>{const M=H,U=Z("router-link"),h=Z("vue-file-agent"),L=Ce;return $(),C(B,null,[Je,t(G,{"items-per-page":_.value,"onUpdate:itemsPerPage":[n[3]||(n[3]=i=>_.value=i),n[6]||(n[6]=i=>a(!1))],"sort-by":g.value,"onUpdate:sortBy":[n[4]||(n[4]=i=>g.value=i),n[7]||(n[7]=i=>a(!1))],page:k.value,"onUpdate:page":[n[5]||(n[5]=i=>k.value=i),n[8]||(n[8]=i=>a(!1))],items:w.value,headers:v,loading:c.value,"items-length":S.value,search:o.value,hover:"",class:"w-75 mx-auto rounded-lg mb-15"},{top:l(()=>[t(M,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=i=>o.value=i),onClickAppend:n[1]||(n[1]=i=>a(!0)),onKeydown:n[2]||(n[2]=E(i=>a(!0),["enter"])),"max-width":"100%",class:"my-5"},null,8,["modelValue"])]),"item.image":l(({item:i})=>[t(U,{to:"/event/"+i._id,style:{"text-decoration":"none"}},{default:l(()=>[t(ee,{src:i.image,width:"100px","max-height":"140px",class:"my-5"},null,8,["src"])]),_:2},1032,["to"])]),"item.address":l(({item:i})=>[m("td",Qe,V(i.address),1)]),"item.category":l(({item:i})=>[m("td",null,V(i.category.join(" , ")),1)]),"item.description":l(({item:i})=>[m("td",Xe,V(i.description),1)]),"item.action":l(({item:i})=>[m("td",Ye,[T(V(i.action)+" ",1),t(z,{icon:"mdi-delete",variant:"text",color:"blue",onClick:St=>be(i)},null,8,["onClick"])])]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"]),t(_e,{"max-width":"700",modelValue:u.value.open,"onUpdate:modelValue":n[18]||(n[18]=i=>u.value.open=i)},{default:l(()=>[t(me,null,{default:l(()=>[t(ie,null,{default:l(()=>[t(fe,{class:"font-weight-black text-center text-h4"},{default:l(()=>[T("新增活動")]),_:1}),t(ye,null,{default:l(()=>[t(Ue,{onSubmit:xe(f(ve),["prevent"]),disabled:f(J)},{default:l(()=>[t(ue,null,{default:l(()=>[t(I,null,{default:l(()=>[t(h,{modelValue:p.value,"onUpdate:modelValue":n[9]||(n[9]=i=>p.value=i),"raw-model-value":b.value,"onUpdate:rawModelValue":n[10]||(n[10]=i=>b.value=i),accept:"image/jpeg,image/png",deletable:"","max-size":"1MB","help-text":"選擇檔案或拖曳到這裡","error-text":{type:"檔案格式不支援",size:"檔案大小不能超過 1MB"},ref_key:"fileAgent",ref:x},null,8,["modelValue","raw-model-value"])]),_:1})]),_:1}),t(ue,null,{default:l(()=>[t(I,{cols:"12",md:"3",class:"my-auto text-center"},{default:l(()=>[Ze]),_:1}),t(I,{cols:"12",md:"9"},{default:l(()=>[t(L,{modelValue:f(te).value.value,"onUpdate:modelValue":n[11]||(n[11]=i=>f(te).value.value=i),"error-messages":f(te).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1}),t(I,{cols:"12",md:"3",class:"my-auto text-center"},{default:l(()=>[et]),_:1}),t(I,{cols:"12",md:"9"},{default:l(()=>[t(L,{modelValue:f(le).value.value,"onUpdate:modelValue":n[12]||(n[12]=i=>f(le).value.value=i),"error-messages":f(le).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1}),t(I,{cols:"12",md:"3",class:"my-auto text-center"},{default:l(()=>[tt]),_:1}),t(I,{cols:"12",md:"3"},{default:l(()=>[t(Be,{modelValue:f(se).value.value,"onUpdate:modelValue":n[13]||(n[13]=i=>f(se).value.value=i),"error-messages":f(se).errorMessage.value,label:"選擇",variant:"outlined",density:"comfortable",dense:"",width:"140",items:e,"hide-details":""},null,8,["modelValue","error-messages"])]),_:1}),t(I,{cols:"3",class:"my-auto text-center px-0"},{default:l(()=>[at]),_:1}),t(I,{cols:"3"},{default:l(()=>[t(L,{modelValue:f(ae).value.value,"onUpdate:modelValue":n[14]||(n[14]=i=>f(ae).value.value=i),"error-messages":f(ae).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1}),t(I,{cols:"12",md:"3",class:"my-auto text-center"},{default:l(()=>[lt]),_:1}),t(I,{cols:"12",md:"9"},{default:l(()=>[t(L,{modelValue:f(oe).value.value,"onUpdate:modelValue":n[15]||(n[15]=i=>f(oe).value.value=i),"error-messages":f(oe).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1}),t(I,{cols:"12",md:"3",class:"text-center"},{default:l(()=>[st]),_:1}),t(I,{cols:"12",md:"9"},{default:l(()=>[t(Te,{label:"輸入文字",variant:"outlined",clearable:"","hide-details":"",modelValue:f(ne).value.value,"onUpdate:modelValue":n[16]||(n[16]=i=>f(ne).value.value=i),"error-messages":f(ne).errorMessage.value},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),t(ke,null,{default:l(()=>[m("div",ot,[t(z,{variant:"text",class:"rounded-xl b-1",density:"comfortable",type:"submit",loading:f(J)},{default:l(()=>[T("送出")]),_:1},8,["loading"]),t(z,{text:"取消",variant:"text",class:"rounded-xl b-1",density:"comfortable",onClick:n[17]||(n[17]=i=>s())})])]),_:1})]),_:1},8,["onSubmit","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},rt=m("h2",{class:"my-5 bg-accent text-center w-75 mx-auto"},"我要募資",-1),it={style:{width:"250px"},class:"py-2"},dt={style:{width:"80px"}},ut={__name:"allFindTable",props:{cardTitle:{type:String,default:"發布需求"},numberTitle:{type:String,default:"需求量"},descriptionTitle:{type:String,default:"需求介紹"},type:{type:String,default:"share"}},setup(R){const{api:F,apiAuth:P}=W(),y=O(),x=r(8),p=r([{key:"createdAt",order:"desc"}]),b=r(1),_=r([]),g=[{title:"圖片",align:"center",sortable:!1,key:"image"},{title:"名稱",align:"center",sortable:!1,key:"name"},{title:"數量",align:"center",sortable:!1,key:"quantity"},{title:"分類",align:"center",sortable:!0,key:"category"},{title:"概況",align:"center",sortable:!1,key:"description"},{title:"單位",align:"center",sortable:!1,key:"organizer"},{title:"操作",align:"center",sortable:!1,key:"action"}],k=r(!0),w=r(0),v=r(""),c=async o=>{var a,e,u,s;o&&(b.value=1),k.value=!0;try{const{data:d}=await P.get("/material/find",{params:{page:b.value,itemsPerPage:x.value,sortBy:((a=p.value[0])==null?void 0:a.key)||"createdAt",sortOrder:((e=p.value[0])==null?void 0:e.order)||"desc",search:v.value}});_.value.splice(0,_.value.length,...d.result.data),w.value=d.result.total}catch(d){console.log(d),y({text:((s=(u=d==null?void 0:d.response)==null?void 0:u.data)==null?void 0:s.message)||"發生錯誤",snackbarProps:{color:"red"}})}k.value=!1};c(),j(v,()=>{c(!0)});const S=async o=>{var a,e;try{await P.delete(`/Material/${o._id}`),y({text:"刪除成功",snackbarProps:{color:"green"}}),c(!0)}catch(u){console.log(u),y({text:((e=(a=u==null?void 0:u.response)==null?void 0:a.data)==null?void 0:e.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return(o,a)=>{const e=H,u=Z("router-link");return $(),C(B,null,[rt,t(G,{"items-per-page":x.value,"onUpdate:itemsPerPage":[a[3]||(a[3]=s=>x.value=s),a[6]||(a[6]=s=>c(!1))],"sort-by":p.value,"onUpdate:sortBy":[a[4]||(a[4]=s=>p.value=s),a[7]||(a[7]=s=>c(!1))],page:b.value,"onUpdate:page":[a[5]||(a[5]=s=>b.value=s),a[8]||(a[8]=s=>c(!1))],items:_.value,headers:g,loading:k.value,"items-length":w.value,search:v.value,hover:"",class:"w-75 mx-auto b-1 rounded-lg mb-15"},{top:l(()=>[t(e,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=s=>v.value=s),onClickAppend:a[1]||(a[1]=s=>c(!0)),onKeydown:a[2]||(a[2]=E(s=>c(!0),["enter"])),"max-width":"100%",class:"my-5"},null,8,["modelValue"])]),"item.image":l(({item:s})=>[t(u,{to:"/material/find/"+s._id,style:{"text-decoration":"none"}},{default:l(()=>[t(ee,{src:s.image,width:"80px","max-height":"100px"},null,8,["src"])]),_:2},1032,["to"])]),"item.description":l(({item:s})=>[m("td",it,V(s.description),1)]),"item.action":l(({item:s})=>[m("td",dt,[T(V(s.action)+" ",1),t(z,{icon:"mdi-delete",variant:"text",color:"blue",onClick:d=>S(s)},null,8,["onClick"])])]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"])],64)}}},ct=m("h2",{class:"my-5 bg-accent text-center w-75 mx-auto"},"我要分享",-1),mt={style:{width:"250px"},class:"py-2"},pt={style:{width:"80px"}},gt={__name:"allShareTable",props:{cardTitle:{type:String,default:"發布需求"},numberTitle:{type:String,default:"需求量"},descriptionTitle:{type:String,default:"需求介紹"},type:{type:String,default:"share"}},setup(R){const{api:F,apiAuth:P}=W(),y=O();r(null),r([]),r([]);const x=r(8),p=r([{key:"createdAt",order:"desc"}]),b=r(1),_=r([]),g=[{title:"圖片",align:"center",sortable:!1,key:"image"},{title:"名稱",align:"center",sortable:!1,key:"name"},{title:"數量",align:"center",sortable:!1,key:"quantity"},{title:"分類",align:"center",sortable:!0,key:"category"},{title:"概況",align:"center",sortable:!1,key:"description"},{title:"單位",align:"center",sortable:!1,key:"organizer"},{title:"操作",align:"center",sortable:!1,key:"action"}],k=r(!0),w=r(0),v=r(""),c=async o=>{var a,e,u,s;o&&(b.value=1),k.value=!0;try{const{data:d}=await P.get("/material/share",{params:{page:b.value,itemsPerPage:x.value,sortBy:((a=p.value[0])==null?void 0:a.key)||"createdAt",sortOrder:((e=p.value[0])==null?void 0:e.order)||"desc",search:v.value}});_.value.splice(0,_.value.length,...d.result.data),w.value=d.result.total}catch(d){console.log(d),y({text:((s=(u=d==null?void 0:d.response)==null?void 0:u.data)==null?void 0:s.message)||"發生錯誤",snackbarProps:{color:"red"}})}k.value=!1};c(),j(v,()=>{c(!0)});const S=async o=>{var a,e;try{await P.delete(`/Material/${o._id}`),y({text:"刪除成功",snackbarProps:{color:"green"}}),c(!0)}catch(u){console.log(u),y({text:((e=(a=u==null?void 0:u.response)==null?void 0:a.data)==null?void 0:e.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return(o,a)=>{const e=H,u=Z("router-link");return $(),C(B,null,[ct,t(G,{"items-per-page":x.value,"onUpdate:itemsPerPage":[a[3]||(a[3]=s=>x.value=s),a[6]||(a[6]=s=>c(!1))],"sort-by":p.value,"onUpdate:sortBy":[a[4]||(a[4]=s=>p.value=s),a[7]||(a[7]=s=>c(!1))],page:b.value,"onUpdate:page":[a[5]||(a[5]=s=>b.value=s),a[8]||(a[8]=s=>c(!1))],items:_.value,headers:g,loading:k.value,"items-length":w.value,search:v.value,hover:"",class:"w-75 mx-auto b-1 rounded-lg mb-15"},{top:l(()=>[t(e,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=s=>v.value=s),onClickAppend:a[1]||(a[1]=s=>c(!0)),onKeydown:a[2]||(a[2]=E(s=>c(!0),["enter"])),"max-width":"100%",class:"my-5"},null,8,["modelValue"])]),"item.image":l(({item:s})=>[t(u,{to:"/material/share/"+s._id,style:{"text-decoration":"none"}},{default:l(()=>[t(ee,{src:s.image,width:"80px","max-height":"100px"},null,8,["src"])]),_:2},1032,["to"])]),"item.description":l(({item:s})=>[m("td",mt,V(s.description),1)]),"item.action":l(({item:s})=>[m("td",pt,[T(V(s.action)+" ",1),t(z,{icon:"mdi-delete",variant:"text",color:"blue",onClick:d=>S(s)},null,8,["onClick"])])]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"])],64)}}},vt=m("h2",{class:"my-5 bg-accent text-center w-75 mx-auto"},"地標管理",-1),bt={style:{width:"240px"}},ft={style:{width:"120px"}},yt={style:{width:"300px"},class:"text-left"},xt={style:{width:"200px"},class:"text-center"},kt={style:{width:"350px"},class:"py-2 text-left"},_t={style:{width:"80px"}},wt={__name:"allLandmark",setup(R){const{apiAuth:F}=W(),P=O(),y=r(10),x=r([{key:"createdAt",order:"desc"}]),p=r(1),b=r([]),_=[{title:"服務名稱",align:"center",sortable:!1,key:"name"},{title:"地址",align:"center",sortable:!0,key:"address"},{title:"聯絡電話",align:"center",sortable:!1,key:"tel"},{title:"服務項目",align:"center",sortable:!0,key:"categories"},{title:"服務介紹",align:"center",sortable:!1,key:"description"},{title:"操作",align:"center",sortable:!1,key:"action"}],g=r(!0),k=r(0),w=r(""),v=async S=>{var o,a,e,u;S&&(p.value=1),g.value=!0;try{const{data:s}=await F.get("/landmark/",{params:{page:p.value,itemsPerPage:y.value,sortBy:((o=x.value[0])==null?void 0:o.key)||"createdAt",sortOrder:((a=x.value[0])==null?void 0:a.order)||"desc",search:w.value}});console.log(s),b.value.splice(0,b.value.length,...s.result.data),k.value=s.result.total}catch(s){console.log(s),P({text:((u=(e=s==null?void 0:s.response)==null?void 0:e.data)==null?void 0:u.message)||"發生錯誤",snackbarProps:{color:"red"}})}g.value=!1};v(),j(w,()=>{v(!0)});const c=async S=>{var o,a;try{await F.delete(`/landmark/${S._id}`),P({text:"刪除成功",snackbarProps:{color:"green"}}),v(!0)}catch(e){console.log(e),P({text:((a=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:a.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return(S,o)=>{const a=H;return $(),C(B,null,[vt,t(G,{"items-per-page":y.value,"onUpdate:itemsPerPage":[o[3]||(o[3]=e=>y.value=e),o[6]||(o[6]=e=>v(!1))],"sort-by":x.value,"onUpdate:sortBy":[o[4]||(o[4]=e=>x.value=e),o[7]||(o[7]=e=>v(!1))],page:p.value,"onUpdate:page":[o[5]||(o[5]=e=>p.value=e),o[8]||(o[8]=e=>v(!1))],items:b.value,headers:_,loading:g.value,"items-length":k.value,search:w.value,hover:"",class:"w-75 mx-auto rounded-lg mb-15"},{top:l(()=>[t(a,{modelValue:w.value,"onUpdate:modelValue":o[0]||(o[0]=e=>w.value=e),onClickAppend:o[1]||(o[1]=e=>v(!0)),onKeydown:o[2]||(o[2]=E(e=>v(!0),["enter"])),"max-width":"100%",class:"my-5"},null,8,["modelValue"])]),"item.name":l(({item:e})=>[m("td",bt,V(e.name),1)]),"item.tel":l(({item:e})=>[m("td",ft,V(e.tel),1)]),"item.address":l(({item:e})=>[m("td",yt,V(e.address),1)]),"item.categories":l(({item:e})=>[m("td",xt,V(e.categories.join(" , ")),1)]),"item.description":l(({item:e})=>[m("td",kt,V(e.description),1)]),"item.action":l(({item:e})=>[m("td",_t,[T(V(e.action)+" ",1),t(z,{icon:"mdi-delete",variant:"text",color:"blue",onClick:u=>c(e)},null,8,["onClick"])])]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"])],64)}}},Vt={class:"d-flex flex-row"},ht={class:"mx-auto mb-5 rounded-lg"},$t={class:"mx-auto mb-5 rounded-lg"},Pt={class:"mx-auto mb-5 rounded-lg"},pe={__name:"index",setup(R){const F=["會員中心","基本資料"],P=["會員中心","地標管理"],y=["會員中心","貼文管理"],x=["會員中心","活動收藏"],p=r("option-1"),{mobile:b}=we(),_=Ve(),g=he(),k=O(),w=r(!1),v=de(()=>[{title:"資源地圖",icon:"mdi-map-search",show:g.isLogin,items:[{to:"/",text:"資源查詢",show:g.isLogin},{to:"/map/createMark",text:"新增資源",show:g.isLogin}]},{title:"物資分享",icon:"mdi-package-variant",show:g.isLogin,items:[{to:"/material/find/findMaterial",text:"我要募資",show:g.isLogin||g.isAdmin},{to:"/material/share/shareMaterial",text:"我要分享",show:g.isLogin||g.isAdmin}]}]),c=de(()=>[{to:"/",text:"資源地圖",icon:"mdi-map-search",show:!g.isLogin},{to:"/event/findEvent",text:"活動分享",icon:"mdi-calendar",show:!0},{to:"/setting",text:"管理",icon:"mdi-cog",show:g.isLogin},{to:"",text:"註冊/登入",icon:"mdi-account-plus",show:!g.isLogin},{to:"/admin/",text:"管理者",icon:"mdi-face-man",show:g.isLogin&&g.isAdmin}]),S=a=>{a.text==="註冊/登入"&&(dialogOpen.value=!0)},o=async()=>{await g.logout(),k({text:"登出成功",snackbarProps:{color:"green"}}),_.push("/")};return(a,e)=>{const u=Le,s=Ge;return $(),C(B,null,[t(ze,{color:"info","scroll-behavior":"elevate",class:"b-1"},{default:l(()=>[t(ie,{class:"d-flex align-center"},{default:l(()=>[t(z,{to:"/",active:!1},{default:l(()=>[T("logo")]),_:1}),t($e),f(b)?($(),D(Fe,{key:0,onClick:e[0]||(e[0]=d=>w.value=!0)})):($(),C(B,{key:1},[($(!0),C(B,null,re(v.value,d=>($(),D(Ke,{key:d.title,"open-on-hover":"",transition:"slide-y-transition"},{activator:l(({props:q})=>[d.show?($(),D(z,Pe({key:0,ref_for:!0},q,{ripple:!1,"prepend-icon":d.icon,class:"font-weight-black pe-1"}),{default:l(()=>[T(V(d.title)+" ",1),t(Se,null,{default:l(()=>[T("mdi-menu-down")]),_:1})]),_:2},1040,["prepend-icon"])):Q("",!0)]),default:l(()=>[t(Oe,null,{default:l(()=>[($(!0),C(B,null,re(d.items,(q,J)=>($(),C(B,{key:J},[q.show?($(),D(Re,{key:0,to:q.to,link:""},{default:l(()=>[t(He,null,{default:l(()=>[T(V(q.text),1)]),_:2},1024)]),_:2},1032,["to"])):Q("",!0)],64))),128))]),_:2},1024)]),_:2},1024))),128)),($(!0),C(B,null,re(c.value,d=>($(),C(B,null,[d.show?($(),D(z,{key:d.to,"prepend-icon":d.icon,to:d.to,active:!1,class:"mx-1 font-weight-black pe-1",onClick:q=>S(d)},{default:l(()=>[T(V(d.text),1)]),_:2},1032,["prepend-icon","to","onClick"])):Q("",!0)],64))),256)),f(g).isLogin?($(),D(z,{key:0,class:"ms-8 bg-accent b-1",elevation:"2","prepend-icon":"mdi-account-arrow-right",onClick:o},{default:l(()=>[T("登出")]),_:1})):Q("",!0)],64))]),_:1})]),_:1}),t(qe,{color:"info",class:"b-1"},{default:l(()=>[t(De,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=d=>p.value=d),color:"black",direction:"vertical","show-arrows":""},{default:l(()=>[t(X,{"prepend-icon":"mdi-account-wrench",text:"用戶管理",value:"option-1",height:"100",class:"text-body-1 ms-1"}),t(X,{"prepend-icon":"mdi-map-marker-multiple",text:"資源地圖",value:"option-2",height:"100",class:"text-body-1 ms-1"}),t(X,{"prepend-icon":"mdi-calendar-cursor",text:"活動分享",value:"option-3",height:"100",class:"text-body-1 ms-1"}),t(X,{"prepend-icon":"mdi-gift",text:"物資分享",value:"option-4",height:"100",class:"text-body-1 ms-1"})]),_:1},8,["modelValue"])]),_:1}),t(me,{class:"h-100"},{default:l(()=>[m("div",Vt,[t(ie,null,{default:l(()=>[t(Ne,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=d=>p.value=d),class:"my-10"},{default:l(()=>[t(Y,{value:"option-1"},{default:l(()=>[t(u,{title:F}),t(s)]),_:1}),t(Y,{value:"option-2"},{default:l(()=>[t(u,{title:P}),t(wt)]),_:1}),t(Y,{value:"option-3"},{default:l(()=>[t(u,{title:y}),m("div",ht,[t(nt)])]),_:1}),t(Y,{value:"option-4"},{default:l(()=>[t(u,{title:x}),m("div",$t,[t(ut)]),m("div",Pt,[t(gt)])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})],64)}}};typeof ce=="function"&&ce(pe);const Jt=Me(pe,[["__scopeId","data-v-fc491425"]]);export{Jt as default};
